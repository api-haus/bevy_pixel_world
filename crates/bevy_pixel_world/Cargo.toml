[package]
name = "bevy_pixel_world"
version.workspace = true
edition.workspace = true
description = "Infinite cellular automata simulation plugin for Bevy"
license = "MIT"
repository = "https://github.com/api-haus/bevy_pixel_world"
keywords = ["bevy", "pixel", "simulation", "cellular-automata", "sandbox"]
categories = ["game-development", "simulation"]

[dependencies]
bevy = { workspace = true }
ab_glyph = "0.2"
dirs = "5"
fastnoise2 = "0.4"
lz4_flex = "0.11"
paste = "1.0"
rayon = "1.10"
bevy_egui = { version = "0.37", optional = true }
tracing = { version = "0.1", optional = true }
tracing-tracy = { version = "0.11", optional = true, default-features = false, features = ["flush-on-exit"] }
tracing-subscriber = { version = "0.3", optional = true, default-features = false, features = ["registry"] }

[dev-dependencies]
bevy_egui = "0.37"
criterion = { version = "0.5", features = ["html_reports"] }
rand = "0.8"
tempfile = "3"

[[bench]]
name = "pixel_world_benchmarks"
harness = false

[[bench]]
name = "hash_benchmarks"
harness = false

[[bench]]
name = "persistence_benchmarks"
harness = false

[[test]]
name = "persistence_bevy_e2e"
required-features = ["headless"]

[features]
default = ["dev"]
dev = ["bevy/dynamic_linking", "visual-debug", "diagnostics"]
headless = []
visual-debug = []
diagnostics = ["dep:bevy_egui"]
tracy = ["dep:tracing", "dep:tracing-tracy", "dep:tracing-subscriber"]
